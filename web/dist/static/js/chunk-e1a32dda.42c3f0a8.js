(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1a32dda"],{3504:function(e,r,t){},bee2:function(e,r,t){"use strict";function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}t.d(r,"a",function(){return a})},d633:function(e,r,t){"use strict";var n=t("3504"),a=t.n(n);a.a},f083:function(e,r,t){"use strict";t.r(r);t("cadf"),t("551c"),t("097d");var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[t("div",{staticClass:"login-content"},[t("Card",{attrs:{title:"欢迎登录",bordered:!1}},[t("div",{staticClass:"form-content"},[t("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",clearable:""},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-person"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",clearable:""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}},[t("Icon",{attrs:{slot:"prepend",type:"md-lock"},slot:"prepend"})],1)],1),t("FormItem",[t("Button",{attrs:{type:"primary",long:""},on:{click:e.onSubmit}},[e._v("登录")])],1)],1),t("p",{staticClass:"login-tip"},[e._v("账号获取，请联系我们")])],1)])],1)])},a=[],s=(t("96cf"),t("1da1")),o=t("d4ec"),u=t("bee2"),i=t("99de"),c=t("7e84"),l=t("262e"),p=t("9ab4"),f=t("60a3"),d=t("ea9b"),b=t("9114");function m(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function g(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){return m(e)||g(e)||v()}var y=t("a026"),w=t("afbc");function k(){return function(e,r,t){var n=t.value;return t.value=Object(s["a"])(regeneratorRuntime.mark(function r(){var t,a,s,o,u,i,c,l=arguments;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:for(t=l.length,a=new Array(t),s=0;s<t;s++)a[s]=l[s];return o=a[0],u=a.slice(1),r.next=5,o.apply(void 0,h(u));case 5:if(i=r.sent,!i){r.next=27;break}r.t0=i.code,r.next="AccessTokenExpires"===r.t0?10:"TokenFormatError"===r.t0?23:26;break;case 10:return r.next=12,Object(b["c"])();case 12:if(c=r.sent,!c){r.next=20;break}return r.next=16,o.apply(void 0,h(u));case 16:return i=r.sent,r.abrupt("return",n.apply(e,[i]));case 20:y["default"].prototype.$Message.error({content:"登录信息已过期，请重新登录",duration:2}),w["a"].push("/login");case 22:return r.abrupt("break",27);case 23:return y["default"].prototype.$Message.error({content:"身份状态失效",duration:2}),w["a"].push("/login"),r.abrupt("break",27);case 26:return r.abrupt("return",n.apply(e,[i]));case 27:case"end":return r.stop()}},r,this)})),t}}var x=function(e){function r(){var e;return Object(o["a"])(this,r),e=Object(i["a"])(this,Object(c["a"])(r).apply(this,arguments)),e.form={username:"",password:""},e.rules={username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{type:"string",min:2,message:"用户名无效",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码最少6位",trigger:"blur"}]},e}return Object(l["a"])(r,e),Object(u["a"])(r,[{key:"validatePassword",value:function(e,r,t){""===r?t(new Error("Please enter your password")):(""!==this.form.password&&console.log(this.$refs.loginForm),t())}},{key:"_getUserInfo",value:function(){var e=arguments.length<=0?void 0:arguments[0];switch(e.code){case"Success":return e;default:return}}},{key:"_login",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["b"])(this.form);case 2:if(r=e.sent,!r){e.next=20;break}e.t0=r.code,e.next="Success"===e.t0?7:"InvalidParams"===e.t0?13:"UsernameNotExist"===e.t0?15:"IncorrectPassword"===e.t0?17:19;break;case 7:return Object(b["d"])(r.data),e.next=10,this._getUserInfo(d["a"]);case 10:return t=e.sent,t?(Object(b["e"])(t.data),this.$Message.success("登录成功"),this.$router.push("/home")):this.$Message.error("获取用户信息失败"),e.abrupt("break",20);case 13:return this.$Message.error("用户名或密码不能为空"),e.abrupt("break",20);case 15:return this.$Message.error("用户名无效"),e.abrupt("break",20);case 17:return this.$Message.error("密码错误"),e.abrupt("break",20);case 19:this.$Message.error("未知错误");case 20:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"onSubmit",value:function(){var e=this;this.$refs.loginForm.validate(function(){var r=Object(s["a"])(regeneratorRuntime.mark(function r(t){return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=3;break}return r.next=3,e._login();case 3:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}())}}]),r}(f["c"]);p["a"]([k()],x.prototype,"_getUserInfo",null),x=p["a"]([f["a"]],x);var j=x,O=j,$=(t("d633"),t("2877")),I=Object($["a"])(O,n,a,!1,null,"8207df0e",null);I.options.__file="Login.vue";var _=I.exports;r["default"]=_}}]);